<h1 class="text-center mb-4">ğŸ“š Course Profile</h1>

<div class="card p-4 mb-4">
  <p><strong>Course Name:</strong> {{course.courseName}}</p>
  <p><strong>Course Code:</strong> {{course.courseCode}}</p>
  <p><strong>Assigned Professor:</strong> {{professor.firstName}} {{professor.lastName}}</p>
</div>

<h2 class="mt-4">Edit Course Info</h2>
<form method="POST" action="/admin/courses/update-info/{{course._id}}" class="mb-4">
  <div class="mb-3">
    <label for="courseName" class="form-label">Course Name</label>
    <input type="text" class="form-control" id="courseName" name="courseName" value="{{course.courseName}}" required />
  </div>
  <div class="mb-3">
    <label for="courseCode" class="form-label">Course Code</label>
    <input type="text" class="form-control" id="courseCode" name="courseCode" value="{{course.courseCode}}" required />
  </div>
  <button type="submit" class="btn btn-warning">âœï¸ Update Course Info</button>
</form>

<h2 class="mt-4">Change Assigned Professor</h2>
<form method="POST" action="/admin/courses/edit/{{course._id}}" class="mb-4">
  <div class="mb-3">
    <label for="newProfessorId" class="form-label">Select New Professor</label>
    <select name="newProfessorId" id="newProfessorId" class="form-select" required>
      {{#each professors}}
        <option value="{{this._id}}" {{#if (eq this._id ../course.professorId)}}selected{{/if}}>
          {{this.firstName}} {{this.lastName}} ({{this.email}})
        </option>
      {{/each}}
    </select>
  </div>
  <button type="submit" class="btn btn-primary">âœ… Update Professor</button>
</form>

<hr class="my-5">

<h2 class="text-danger">âš ï¸ Danger Zone</h2>

<form method="POST" action="/admin/courses/delete/{{course._id}}" onsubmit="return confirm('âš ï¸ Are you sure you want to delete this course? This action cannot be undone!');">
  <button type="submit" class="btn btn-danger">ğŸ—‘ï¸ Delete Course</button>
</form>

<br>
<div class="text-center mt-4">
  <a href="/admin/courses" class="btn btn-secondary">â¬…ï¸ Back to Courses List</a>
</div>
