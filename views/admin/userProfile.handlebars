<h1 class="text-center mb-4">ğŸ‘¤ User Profile</h1>

<div class="card p-4 shadow-sm mb-4">
  <p><strong>Name:</strong> {{user.firstName}} {{user.lastName}}</p>
  <p><strong>Email:</strong> {{user.email}}</p>
  <p><strong>Role:</strong> {{user.role}}</p>
  <p><strong>Status:</strong> {{user.accessStatus}}</p>
</div>

<div class="d-flex justify-content-center flex-wrap gap-2 mb-4">
  {{#if (eq user.accessStatus "Pending")}}
    <form method="POST" action="/admin/approve/{{user._id}}" class="d-inline">
      <button type="submit" class="btn btn-success">âœ… Approve</button>
    </form>
    <form method="POST" action="/admin/reject/{{user._id}}" class="d-inline">
      <button type="submit" class="btn btn-danger">âŒ Reject</button>
    </form>
  {{/if}}

  {{#if (eq user.accessStatus "Rejected")}}
    <form method="POST" action="/admin/approve/{{user._id}}" class="d-inline">
      <button type="submit" class="btn btn-success">âœ… Approve</button>
    </form>
  {{/if}}

  {{#if (eq user.accessStatus "approved")}}
    <form method="POST" action="/admin/reject/{{user._id}}" class="d-inline">
      <button type="submit" class="btn btn-danger">âŒ Reject</button>
    </form>
      {{#if (eq user.role "student")}}
    <form method="POST" action="/admin/promote/{{user._id}}" class="d-inline">
      <button type="submit" class="btn btn-warning text-white">ğŸ“ Promote to TA</button>
    </form>
  {{/if}}

  {{#if (eq user.role "ta")}}
    <form method="POST" action="/admin/demote/{{user._id}}" class="d-inline">
      <button type="submit" class="btn btn-secondary">â¬‡ï¸ Demote to Student</button>
    </form>
  {{/if}}
  {{/if}}

  <form method="POST" action="/admin/delete/{{user._id}}" class="d-inline" onsubmit="return confirm('âš ï¸ Are you sure you want to delete this user? This action cannot be undone!');">
    <button type="submit" class="btn btn-danger">ğŸ—‘ï¸ Delete User</button>
  </form>
</div>

<div class="text-center">
  <a href="/admin" class="btn btn-secondary">â¬…ï¸ Back to Admin Dashboard</a>
</div>
